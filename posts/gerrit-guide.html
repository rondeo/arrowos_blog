<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ArrowOS | How to submit patches to ArrowOS Gerrit</title>
  <meta name="description" content="This guide helps you on how to start contributing to the project">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="How to submit patches to ArrowOS Gerrit">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.arrowos.net/posts/gerrit-guide">
  <meta property="og:description" content="This guide helps you on how to start contributing to the project">
  <meta property="og:site_name" content="ArrowOS">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://blog.arrowos.net/posts/gerrit-guide">
  <meta name="twitter:title" content="How to submit patches to ArrowOS Gerrit">
  <meta name="twitter:description" content="This guide helps you on how to start contributing to the project">

  <!-- cookies consent -->
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
  <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script>
  window.addEventListener("load", function(){
  window.cookieconsent.initialise({
    "palette": {
      "popup": {
        "background": "#252e39"
      },
      "button": {
        "background": "#14a7d0"
      }
    },
    "position": "top"
  })});
  </script>

  
    
      <meta property="og:image" content="https://avatars3.githubusercontent.com/u/40351870?s=200&v=4">
      <meta name="twitter:image" content="https://avatars3.githubusercontent.com/u/40351870?s=200&v=4">
    
  

  <link href="https://blog.arrowos.net/feed.xml" type="application/rss+xml" rel="alternate" title="ArrowOS Last 10 blog posts" />

  
    <link rel="stylesheet" type="text/css" href="/assets/fonts-85dab368d056b5d66418fbfd7e55a89f34f644ee811c8218c81017204426121b.css">
  

  
    <link rel="icon" type="image/x-icon" href="/assets/favicon-dark-b7e7776db29798fffea3cb213e8804cfe57dd39c51108663af475f5825073c4c.ico">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon-dark-c9d6dbec030681b1e1f6a0dfbc2fe9e6d9122b61cac35b5d04e5949a4df92675.png">
    <link rel="stylesheet" type="text/css" href="/assets/dark-d82912011dc35903374b7c508c08dff37736e7469744030ccb0841b750adcf99.css">
  
</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="ArrowOS"><img class="nav-logo" src="/assets/nav-logo-b7f227c4947f2205470eba2fe535899d2ea41b307dd99199009931f8099777b9.png"/>rrowOS</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
      <li>
        <a href="https://github.com/ArrowOS" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:arrowos.contact@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
    
  </ul>
</nav>

        <article class="article scrollappear">
          <header class="article-header">
            <h1>How to submit patches to ArrowOS Gerrit</h1>
            <p>This guide helps you on how to start contributing to the project</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                October 15, 2018
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  3 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/arrowos">arrowos</a>
                
                  <a href="/tag/android">android</a>
                
                  <a href="/tag/gerrit">gerrit</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>Published July 28, 2018 by <strong>Bauuuuu, Kuber Sharma</strong><br />
Last updated on: <strong>13th September,2018</strong></p>

<h5 id="step-1">STEP 1:</h5>
<ul>
  <li>Sign up on our gerrit <a href="https://review.arrowos.net">review.arrowos.net</a> using either a google account or github account and set a <strong>USERNAME</strong> in profile section.<br />
<br />
<strong>Note:</strong> Username once set cannot be changed. If signed up via github, the username by default will be set to your github username.</li>
</ul>

<h5 id="step-2">STEP 2:</h5>
<ul>
  <li>Open your local terminal and generate a ssh key by running the following command. Refer this <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">guide</a> for more info on how to generate ssh keys.</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-keygen</code></pre></figure>

<ul>
  <li>Now add the contents of your ssh public key(~/.ssh/id_rsa.pub) to your gerrit account in the SSH Public Keys section.</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#This command will print out all the contents of your public key file</span>
<span class="nb">cat</span> ~/.ssh/id_rsa.pub</code></pre></figure>

<ul>
  <li>Once done adding the ssh key to your gerrit account you may run the following command to check the connection with gerrit.</li>
</ul>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh <span class="nt">-p</span> 29418 USERNAME@review.arrowos.net</code></pre></figure>

<p>If everything went well you’ll be greeted with a welcome message that the connection has been established. If you receive any error saying “<strong>permission denied(public key)</strong>”, that means your SSH keys aren’t entered correctly, try repeating STEP 2 again.<br />
In this case it is better to start things from scratch by removing your old ssh keys with the following command.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">rm</span> <span class="nt">-rf</span> ~/.ssh</code></pre></figure>

<p>Once you have verified your SSH keys and a successful connection with gerrit, you’re ready to submit patches.</p>

<h5 id="below-is-an-example-showing-how-to-submit-a-commit-to-android_vendor_arrow-repo-on-arrowos-gerrit">Below is an example showing how to submit a commit to <strong>android_vendor_arrow</strong> repo on ArrowOS gerrit:</h5>
<p>This example commit shows you how to add a device to official list.</p>

<p>From the root of your source:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd </span>vendor/arrow/</code></pre></figure>

<p>Now make your changes, i.e. here we edit the <strong>arrow.devices</strong> file to add the device codename and build type.<br />
Once you have finished doing the changes</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"vendor: added xyz device to official"</span></code></pre></figure>

<p>This will generate a commit with the changes you have made.</p>

<h5 id="now-to-push-the-changes">Now to push the changes:</h5>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git push ssh://USERNAME@review.arrowos.net:29418/ArrowOS/android_vendor_arrow HEAD:refs/for/arrow-8.x</code></pre></figure>

<p>Here <strong>android_vendor_arrow</strong> is the repository name and arrow-8.x is the branch, change them accordingly to the repo and branch you’re trying to push to.<br /></p>

<p>If you receive a message saying missing change id in the commit then read the error message carefully and do the exact step shown in the hint of the error message and push again.</p>

<p>With that your commit should be visible on ArrowOS gerrit for review.<br />
If you still have issues please contact anyone from the ArrowOS team.<br />
<br />
Last but not the least, it is important that port <strong>29418</strong> on your network should be open else you will receive an error saying “no route to host”.
Some universities, institutions effectively block this port and in such cases you should push the patches form some other network where its allowed.</p>

<center><img src="https://media.giphy.com/media/3o7qE1YN7aBOFPRw8E/giphy.gif" /></center>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=How+to+submit+patches+to+ArrowOS+Gerrit%20-%20https://blog.arrowos.net/posts/gerrit-guide" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.arrowos.net/posts/gerrit-guide" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
            <a href="https://plus.google.com/share?url=https://blog.arrowos.net/posts/gerrit-guide" title="Share on Google+" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script src="https://https-blog-arrowos-net.disqus.com/embed.js" async defer></script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
          
        </article>
        <footer class="footer scrollappear">
  <p>
    ArrowsOS is AOSP based, free and OpenSource Android custom firmware brought to by
    <a href="https://arrowos.net/index.html" rel="noreferrer noopener" target="_blank" title="About me">ArrowTeam</a>. Download source code <a href="https://github.com/ArrowOS/android_manifest" rel="noreferrer noopener" target="_blank" title="Download ArrowOS">here</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127891468-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-127891468-1');
  </script>


<script src="/assets/vendor-2c224c53eb697c739f9490c38819a72184f09472739fd9e492272ef174090428.js" type="text/javascript"></script>




  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>

</body>
</html>
